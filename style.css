/* --- VARIABLES --- */
:root {
    /* Brand Colors */
    --brand-primary: #148aff;
    --brand-secondary: #b6f702;
    --brand-accent: #758e2e;
    --brand-success: #2ecc71;
    --brand-warning: #f39c12;
    --brand-danger: #e74c3c;
    
    /* Functional Colors */
    --power: #e74c3c;
    --ground: #34495e;
    --gpio: #3498db;
    --i2c: #9b59b6;
    --spi: #2ecc71;
    --uart: #f39c12;
    
    /* Typography */
    --font-family: 'Courier New', monospace;
    --font-size-base: 1rem;
    --letter-spacing: -1px;
    --font-weight-normal: 400;
    --font-weight-bold: 600;
    
    /* Spacing */
    --spacing-xs: 3px;
    --spacing-sm: 6px;
    --spacing-md: 11.25px;
    --spacing-lg: 15px;
    --spacing-xl: 22.5px;
    
    /* Layout */
    --border-radius: 8px;
    --transition: all 0.3s ease;
    --shadow: 0 10px 9px rgba(0, 0, 0, 0.22);
    
    /* Light Theme (Default) */
    --bg-color: #f5f7fa;
    --surface-color: white;
    --text-primary: #34495e;
    --text-secondary: #7f8c8d;
    --border-color: #dde2e3;
}

/* Dark Theme Variables */
[data-theme="dark"] {
    --bg-color: #212529;
    --surface-color: #2c3e50;
    --text-primary: #ecf0f1;
    --text-secondary: #95a5a6;
    --border-color: #495057;
    --shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
}

/* --- LAYER DEFINITION --- */
/* Defines the order of precedence for the stylesheet layers. */
@layer reset, components, app;

/* --- 2. BASE & RESET --- */
@layer reset {
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: var(--font-family);
        background-color: var(--bg-color);
        color: var(--text-primary);
        font-size: var(--font-size-base);
        letter-spacing: var(--letter-spacing);
        line-height: 1.6;
        transition: var(--transition);
    }

    h1, h2, h3, h4, h5, h6 {
        font-weight: var(--font-weight-bold);
        line-height: 1.2;
        margin-bottom: var(--spacing-sm);
        color: var(--text-primary);
    }

    h1 { font-size: 2.5rem; }
    h2 { font-size: 2rem; }
    h3 { font-size: 1.75rem; }
    h4 { font-size: 1.5rem; }
    h5 { font-size: 1.25rem; }
    h6 { font-size: 1rem; }

    p {
        margin-bottom: var(--spacing-md);
        max-width: 75ch; /* Improves readability */
    }

    ul, ol {
        list-style-position: inside;
        padding-left: var(--spacing-sm);
        margin-bottom: var(--spacing-md);
    }

    li { margin-bottom: var(--spacing-xs); }

    hr {
        border: none;
        border-top: 1px solid var(--border-color);
        margin: var(--spacing-lg) 0;
    }

    /* A generic style for inline code snippets */
    code {
        background-color: var(--bg-color);
        padding: 2px 5px;
        border-radius: 4px;
        font-family: monospace;
        border: 1px solid var(--border-color);
        color: var(--brand-accent);
    }
}

/* --- 3. DESIGN SYSTEM COMPONENTS --- */
/* These styles USE the variables and represent the design system. */
/* They are used in the preview area and included in some exports. */
@layer components {
    pre {
        background-color: var(--bg-color);
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        padding: var(--spacing-md);
        margin-top: var(--spacing-sm);
        margin-bottom: var(--spacing-md);
        overflow-x: auto;
        font-size: 0.9em;
    }

    pre code {
        background: none;
        border: none;
        padding: 0;
        color: var(--text-primary);
        font-family: monospace;
    }

    .card {
        background-color: var(--surface-color);
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-lg);
    }

    .card-title {
        font-size: 1.25rem;
        font-weight: var(--font-weight-bold);
        margin-bottom: var(--spacing-md);
    }

    .color-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: var(--spacing-md);
    }

    .color-item {
        padding: var(--spacing-sm);
        border-radius: var(--border-radius);
        text-align: center;
        color: white;
        font-weight: var(--font-weight-bold);
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }

    .color-primary { background-color: var(--brand-primary); }
    .color-secondary { background-color: var(--brand-secondary); }
    .color-accent { background-color: var(--brand-accent); }
    .color-success { background-color: var(--brand-success); }
    .color-warning { background-color: var(--brand-warning); }
    .color-danger { background-color: var(--brand-danger); }

    .btn { display: inline-flex; align-items: center; justify-content: center; gap: var(--spacing-xs); padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--border-radius); border: 1px solid; font-weight: var(--font-weight-normal); cursor: pointer; transition: var(--transition); text-decoration: none; }
    .btn:hover { opacity: 0.9; transform: translateY(-1px); }
    .btn-primary { background-color: var(--brand-primary); border-color: var(--brand-primary); color: white; }
    .btn-secondary { background-color: var(--brand-secondary); border-color: var(--brand-secondary); color: white; }
    .btn-outline { background-color: transparent; border-color: var(--brand-primary); color: var(--brand-primary); }
    .btn-outline:hover { background-color: var(--brand-primary); color: white; }
    .component-btn-row { display: flex; flex-wrap: wrap; gap: var(--spacing-md); margin-bottom: var(--spacing-lg); }

    input[type="text"], select { width: 100%; padding: var(--spacing-sm); border: 1px solid var(--border-color); border-radius: var(--border-radius); background-color: var(--surface-color); color: var(--text-primary); font-family: inherit; font-size: inherit; transition: var(--transition); }
    input:focus, select:focus { outline: none; border-color: var(--brand-primary); box-shadow: 0 0 0 3px rgba(44, 62, 80, 0.1); }

    .alert { padding: var(--spacing-md); margin-bottom: var(--spacing-md); border: 1px solid var(--border-color); border-left-width: 5px; border-radius: var(--border-radius); display: flex; align-items: center; gap: var(--spacing-sm); background-color: var(--surface-color); }
    .alert:last-child { margin-bottom: 0; }
    .alert i { font-size: 1.2em; }
    .alert-success { border-left-color: var(--brand-success); }
    .alert-success i { color: var(--brand-success); }
    .alert-warning { border-left-color: var(--brand-warning); }
    .alert-warning i { color: var(--brand-warning); }
    .alert-danger { border-left-color: var(--brand-danger); }
    .alert-danger i { color: var(--brand-danger); }

    table { width: 100%; border-collapse: collapse; margin-top: var(--spacing-md); }
    th, td { padding: var(--spacing-sm) var(--spacing-md); text-align: left; border-bottom: 1px solid var(--border-color); }
    thead th { background-color: var(--bg-color); font-weight: var(--font-weight-bold); border-bottom-width: 2px; }
    tbody tr:hover { background-color: var(--bg-color); }

    .badge { display: inline-block; padding: var(--spacing-xs) var(--spacing-sm); font-size: 0.8em; font-weight: var(--font-weight-bold); line-height: 1; text-align: center; white-space: nowrap; vertical-align: baseline; border-radius: 10rem; color: #fff; }
    .badge-success { background-color: var(--brand-success); }
    .badge-warning { background-color: var(--brand-warning); }
    .badge-danger { background-color: var(--brand-danger); }

    .navbar { display: flex; justify-content: space-between; align-items: center; background-color: var(--bg-color); padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--border-radius); border: 1px solid var(--border-color); }
    .navbar-brand { font-weight: var(--font-weight-bold); font-size: 1.5rem; color: var(--brand-primary); }
    .navbar-nav { display: flex; list-style: none; gap: var(--spacing-md); }
    .nav-link { text-decoration: none; color: var(--text-secondary); font-weight: 500; transition: var(--transition); }
    .nav-link:hover, .nav-item.active .nav-link { color: var(--text-primary); }

    .text-secondary { color: var(--text-secondary); }

    .content-preview-document {
        background-color: var(--surface-color);
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        padding: var(--spacing-xl);
    }

    .content-preview-document h1 {
        border-bottom: 2px solid var(--border-color);
        padding-bottom: var(--spacing-md);
    }
}

/* --- 4. APPLICATION UI --- */
/* Styles for the generator's UI, not part of the exported system */
@layer app {
    /* --- 4. APPLICATION UI & 5. LAYOUT --- */
    /* Styles for the generator's UI, not part of the exported system */

    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: var(--spacing-md);
        display: grid;
        grid-template-columns: 320px 1fr;
        gap: var(--spacing-lg);
    }

    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--spacing-sm) var(--spacing-md);
        background-color: var(--surface-color);
        box-shadow: var(--shadow);
        margin-bottom: var(--spacing-lg);
        grid-column: 1 / -1;
    }

    .logo {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        font-weight: var(--font-weight-bold);
        font-size: 1.5rem;
    }

    .header-actions {
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
    }

    .theme-toggle { cursor: pointer; display: flex; align-items: center; gap: var(--spacing-xs); }

    .pro-upgrade { cursor: pointer; display: flex; align-items: center; gap: var(--spacing-xs); padding: 6px 12px; border-radius: var(--border-radius); background-color: var(--brand-accent); color: white; font-weight: 500; transition: var(--transition); }
    .pro-upgrade:hover { opacity: 0.9; transform: translateY(-1px); }

    .sidebar { background-color: var(--surface-color); border-radius: var(--border-radius); padding: var(--spacing-lg); box-shadow: var(--shadow); height: fit-content; position: sticky; top: var(--spacing-md); }

    .form-group { margin-bottom: var(--spacing-md); }
    label {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--spacing-xs); font-weight: var(--font-weight-bold);
    }

    .help-text {
        display: block;
        font-size: 0.85em;
        color: var(--text-secondary);
        margin-top: var(--spacing-xs);
    }

    .contrast-warning {
        display: none;
        font-size: 0.85em;
        margin-top: var(--spacing-xs);
        padding: var(--spacing-sm);
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        background-color: var(--bg-color);
        line-height: 1.4;
    }

    .contrast-warning.visible {
        display: block;
    }

    .contrast-context {
        font-weight: var(--font-weight-bold);
        color: var(--text-secondary);
        display: block;
        margin-bottom: var(--spacing-xs);
        font-size: 0.9em;
    }

    .contrast-details {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.95em;
        font-weight: normal;
        color: var(--text-secondary);
    }

    .contrast-details strong {
        color: var(--text-primary);
        font-weight: var(--font-weight-bold);
    }

    .contrast-breakdown {
        display: flex;
        gap: var(--spacing-sm);
        font-size: 1em;
        font-family: monospace;
        font-weight: var(--font-weight-bold);
    }

    .color-picker { display: flex; align-items: center; gap: var(--spacing-sm); }

    .color-input { /* The <input type="color"> */
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        width: 30px;
        height: 30px;
        padding: 0;
        background-color: transparent;
        border: 2px solid var(--border-color);
        border-radius: 50%;
        cursor: pointer;
    }
    .color-input::-webkit-color-swatch-wrapper {
        padding: 0;
    }
    .color-input::-webkit-color-swatch {
        border: none;
        border-radius: 50%;
    }
    .color-input::-moz-color-swatch {
        border: none;
        border-radius: 50%;
    }

    .color-text-input {
        font-family: monospace;
    }

    .sidebar-note {
        background-color: var(--bg-color);
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        padding: var(--spacing-sm);
        margin-bottom: var(--spacing-lg);
        font-size: 0.9em;
        color: var(--text-secondary);
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
    }

    .sidebar-note i { color: var(--brand-primary); }

    .sidebar-title {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.1rem;
        margin-bottom: var(--spacing-md);
        padding-bottom: var(--spacing-xs);
        border-bottom: 2px solid var(--border-color);
    }

    .app-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-xs);
        padding: 8px 14px;
        border-radius: 6px; /* Fixed radius for app UI */
        border: 1px solid var(--border-color);
        font-weight: 500;
        cursor: pointer;
        transition: var(--transition);
        background-color: var(--surface-color);
        color: var(--text-primary);
        text-decoration: none;
    }
    .app-btn:hover {
        border-color: var(--brand-secondary);
        background-color: var(--bg-color);
    }
    .app-btn-primary {
        background-color: var(--brand-primary);
        border-color: var(--brand-primary);
        color: white;
    }
    .app-btn-primary:hover {
        opacity: 0.9;
        background-color: var(--brand-primary);
    }

    .app-btn-pro {
        background-color: var(--brand-secondary);
        border-color: var(--brand-secondary);
        color: white;
        opacity: 0.6;
        cursor: help;
    }

    .hidden-file-input {
        display: none;
    }
        
    .app-btn-pro:hover { opacity: 0.75; background-color: var(--brand-secondary); border-color: var(--brand-secondary); }

    .export-options { display: flex; flex-wrap: wrap; gap: var(--spacing-sm); margin-top: var(--spacing-lg); }

    .export-code {
        background-color: var(--bg-color);
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        padding: var(--spacing-md);
        margin-top: var(--spacing-md);
        font-family: monospace;
        white-space: pre-wrap;
        max-height: 300px;
        overflow-y: auto;
        display: none;
        font-size: 0.85rem;
    }

    .main-content { display: grid; grid-template-columns: 1fr; gap: var(--spacing-lg); align-content: start; }
    @media (max-width: 900px) {
        .container { grid-template-columns: 1fr; }
        .sidebar { position: relative; top: 0; }
    }

    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        padding: var(--spacing-md);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.visible {
        opacity: 1;
        visibility: visible;
    }

    .modal-content {
        position: relative;
        background-color: var(--surface-color);
        border-radius: var(--border-radius);
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        max-height: 90vh;
        overflow-y: auto;
        max-width: 800px;
        width: 100%;
        transform: scale(0.95);
        transition: transform 0.3s ease;
    }

    .modal-overlay.visible .modal-content {
        transform: scale(1);
    }

    .modal-close {
        position: absolute;
        top: var(--spacing-sm);
        right: var(--spacing-md);
        font-size: 2rem;
        font-weight: bold;
        color: var(--text-secondary);
        background: none;
        border: none;
        cursor: pointer;
        line-height: 1;
        z-index: 10;
    }

    .modal-close:hover {
        color: var(--text-primary);
    }

    .pro-container {
        padding: var(--spacing-lg, 2.5rem);
    }
    .pro-header { text-align: center; margin-bottom: var(--spacing-md, 1.5rem); }
    .pro-header h1 { color: var(--brand-primary, #2c3e50); font-size: 2.5rem; margin-bottom: 0.5rem; }
    .pro-header p { font-size: 1.1rem; color: var(--text-secondary, #6c757d); }

    .pro-comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: var(--spacing-md);
        font-size: 0.95rem;
    }
    .pro-comparison-table th, .pro-comparison-table td {
        padding: var(--spacing-sm) var(--spacing-md);
        text-align: left;
        border-bottom: 1px solid var(--border-color);
    }
    .pro-comparison-table th {
        font-weight: var(--font-weight-bold);
        background-color: var(--bg-color);
    }
    .pro-comparison-table td:nth-child(2),
    .pro-comparison-table td:nth-child(3),
    .pro-comparison-table th:nth-child(2),
    .pro-comparison-table th:nth-child(3) {
        text-align: center;
        width: 70px;
    }
    .pro-comparison-table .check {
        color: var(--brand-success);
        font-size: 1.5rem;
        font-weight: bold;
    }
    .pro-comparison-table .cross {
        color: var(--text-secondary);
        font-size: 1.5rem;
    }

    .cta-button {
        display: block; width: 100%; text-align: center; padding: var(--spacing-sm, 1rem);
        background-color: var(--brand-accent, #e74c3c); color: white; text-decoration: none;
        border-radius: var(--border-radius, 8px); font-size: 1.2rem; font-weight: bold;
        margin-top: var(--spacing-lg, 2.5rem); transition: var(--transition, all 0.2s ease);
    }
    .cta-button:hover { opacity: 0.9; transform: translateY(-2px); }

    .pro-section-title {
        font-size: 1.75rem;
        color: var(--text-primary);
        text-align: center;
        margin-top: var(--spacing-lg);
        margin-bottom: var(--spacing-md);
        border-bottom: 1px solid var(--border-color);
        padding-bottom: var(--spacing-sm);
    }

    .pro-best-practices {
        margin-top: var(--spacing-lg);
        text-align: left;
    }

    .practice-item {
        margin-bottom: var(--spacing-lg);
    }

    .practice-item h3 {
        font-size: 1.2rem;
        color: var(--brand-primary);
        margin-bottom: var(--spacing-xs);
    }

    .practice-item p, .practice-item ul, .practice-item ol {
        margin-bottom: var(--spacing-sm);
        color: var(--text-secondary);
        line-height: 1.6;
    }

    .practice-item ul, .practice-item ol {
        padding-left: var(--spacing-lg);
    }

    .practice-item code {
        background-color: var(--bg-color);
        padding: 2px 5px;
        border-radius: 4px;
        font-family: monospace;
        border: 1px solid var(--border-color);
        color: var(--brand-accent);
    }

    .practice-item pre {
        background-color: var(--bg-color);
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        padding: var(--spacing-sm);
        margin-top: var(--spacing-sm);
        overflow-x: auto;
    }

    .practice-item pre code {
        background: none;
        border: none;
        padding: 0;
        color: var(--text-primary);
    }

    .help-icon {
        color: var(--text-secondary);
        cursor: help;
        font-size: 0.9em;
        margin-left: var(--spacing-xs);
        transition: color 0.2s ease;
    }

    .help-icon:hover {
        color: var(--brand-secondary);
    }

    .help-tooltip {
        position: absolute;
        display: none;
        z-index: 1010; /* Above modal overlay */
        background-color: var(--surface-color);
        border: 1px solid var(--border-color);
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        padding: var(--spacing-sm);
        max-width: 300px;
        font-size: 0.9rem;
    }

    .help-tooltip h4 {
        font-size: 1rem;
        font-weight: var(--font-weight-bold);
        color: var(--brand-primary);
        margin-bottom: var(--spacing-xs);
    }

    .help-tooltip p {
        margin-bottom: 0;
        line-height: 1.5;
    }

    /* --- Privacy Button & Modal --- */
    .privacy-button {
        position: fixed;
        bottom: var(--spacing-lg);
        left: var(--spacing-lg);
        width: 56px;
        height: 56px;
        background: var(--surface-color);
        border: 1px solid var(--border-color);
        border-radius: 50%;
        cursor: pointer;
        box-shadow: var(--shadow);
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 900; /* Below modals */
        overflow: hidden;
    }

    .privacy-button:hover {
        transform: translateY(-2px);
        border-color: var(--brand-primary);
    }

    .privacy-button:active {
        transform: translateY(0);
    }

    .fingerprint-icon {
        width: 28px;
        height: 28px;
        fill: var(--text-secondary);
        transition: fill 0.3s ease;
    }

    .privacy-button:hover .fingerprint-icon {
        fill: var(--brand-primary);
    }

    /* Ripple Effect */
    .privacy-button::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(var(--brand-primary-rgb, 20, 138, 255), 0.2);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    .privacy-button:active::before {
        width: 300%;
        height: 300%;
    }

    /* Tooltip */
    .privacy-button::after {
        content: 'Privacy & Usage Settings';
        position: absolute;
        left: 70px;
        top: 50%;
        transform: translateY(-50%);
        background: var(--text-primary);
        color: var(--surface-color);
        padding: var(--spacing-xs) var(--spacing-sm);
        border-radius: var(--border-radius);
        font-size: 0.85rem;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
        box-shadow: var(--shadow);
    }

    .privacy-button:hover::after {
        opacity: 1;
    }

    /* Privacy Modal Overlay */
    .privacy-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        -webkit-backdrop-filter: blur(5px);
        backdrop-filter: blur(5px);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .privacy-modal-overlay.visible {
        opacity: 1;
        visibility: visible;
    }

    /* Privacy Modal */
    .privacy-modal {
        transform: scale(0.95);
        background: var(--surface-color);
        border-radius: var(--border-radius);
        padding: var(--spacing-lg);
        width: 90%;
        max-width: 500px;
        box-shadow: var(--shadow);
        transition: transform 0.3s ease;
        border: 1px solid var(--border-color);
    }

    .privacy-modal-overlay.visible .privacy-modal {
        transform: scale(1);
    }

    .privacy-modal .modal-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--spacing-md);
        padding-bottom: var(--spacing-sm);
        border-bottom: 1px solid var(--border-color);
    }

    .privacy-modal .modal-title {
        font-size: 1.25rem;
        font-weight: var(--font-weight-bold);
        color: var(--text-primary);
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
    }

    .privacy-modal-close {
        background: none;
        border: none;
        font-size: 1.5rem;
        color: var(--text-secondary);
        cursor: pointer;
        padding: var(--spacing-xs);
        border-radius: var(--border-radius);
        transition: var(--transition);
    }

    .privacy-modal-close:hover {
        background-color: var(--bg-color);
        color: var(--text-primary);
    }

    .privacy-options { display: flex; flex-direction: column; gap: var(--spacing-sm); }
    .privacy-option { display: flex; justify-content: space-between; align-items: center; padding: var(--spacing-sm) 0; }
    .option-info h4 { margin: 0 0 4px 0; font-size: 1rem; font-weight: 500; color: var(--text-primary); }
    .option-info p { margin: 0; font-size: 0.9rem; color: var(--text-secondary); }

    /* Toggle Switch */
    .toggle-switch { position: relative; width: 44px; height: 24px; background: var(--border-color); border-radius: 12px; cursor: pointer; transition: background-color 0.3s ease; border: none; padding: 0; }
    .toggle-switch.active { background: var(--brand-primary); }
    .toggle-switch::before { content: ''; position: absolute; top: 2px; left: 2px; width: 20px; height: 20px; background: var(--surface-color); border-radius: 50%; transition: transform 0.3s ease; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); }
    .toggle-switch.active::before { transform: translateX(20px); }

    /* Notification */
    .privacy-notification { position: fixed; top: 20px; right: 20px; background: var(--brand-success); color: white; padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--border-radius); box-shadow: var(--shadow); z-index: 3000; font-size: 0.9rem; transform: translateX(120%); transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); }
    .privacy-notification.visible { transform: translateX(0); }
    }